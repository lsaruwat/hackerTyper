<html>
  <head>
    <title>html 101</title>
    <style>
    body{
      background-color: #111;
    }

    div#hackPad{
      margin-left: 20px;
      color: #090;
      font-size: 15px;
    }
    </style>
  </head>
  <body>
    <div id="hackPad">
      <pre id="hackText"></pre>
    </div>

  <script type="text/javascript">
    var index = 0;
    var speed = 5;
    var pad = document.getElementById("hackText");
    var hackText = `
static inline signed int check_error(int return_value)
{
# ifdef VERBOSE
    const char* errbuf;
# endif
    if ( return_value < 0 )
    {
# ifdef VERBOSE
  errbuf = strerror(errno);
  debug_write(errbuf);
# endif
  return -1;
    }

    return 0;
}`

function backTrack(){
  if(index-speed/2 >= 0){
    pad.innerHTML = pad.innerHTML.substring(0,index-speed/2);
    index-=speed/2;
  }

}

function hack(e){

  if(e.keyCode === 8) backTrack();//backspace
  else if(hackText.length >= index+speed){
    var toAppend = hackText.substring(index, index+speed);
    pad.innerHTML += toAppend;
    index+=speed;
  }
  else console.log("programming complete");
}

window.addEventListener("keydown", function(e){
  if(!e.ctrlKey){
    e.preventDefault();
    hack(e);
  }
}, false);

  </script>
  </body>
</html>
